{
  "WmtTag": "module",
  "WmtName": "",
  "no_iife": false,
  "use_strict": false,
  "kind": "jsfile",
  "exportKind": "var",
  "includes": [],
  "statements": [
    {
      "WmtTag": "var",
      "WmtName": "util = require('util')",
      "statements": []
    },
    {
      "WmtTag": "var",
      "WmtName": "path = require('path')",
      "statements": []
    },
    {
      "WmtTag": "var",
      "WmtName": "legacy = require('wizzi-legacy')",
      "statements": []
    },
    {
      "WmtTag": "var",
      "WmtName": "md = module.exports = {}",
      "statements": []
    },
    {
      "WmtTag": "var",
      "WmtName": "myname = 'wizzischema.test.main'",
      "statements": []
    },
    {
      "WmtTag": "set",
      "WmtName": "md.gen",
      "statements": [
        {
          "WmtTag": "function",
          "WmtName": "",
          "statements": [
            {
              "WmtTag": "#",
              "WmtName": "log myname + 'model', model",
              "statements": []
            },
            {
              "WmtTag": "var",
              "WmtName": "ittfDocumentPath = path.join(__dirname, 'ittf', 'wizzischema-test.js.ittf')",
              "statements": []
            },
            {
              "WmtTag": "_",
              "WmtName": "legacy.jsModule",
              "statements": [
                {
                  "WmtTag": "@",
                  "WmtName": "ittfDocumentPath",
                  "statements": []
                },
                {
                  "WmtTag": "{",
                  "WmtName": "",
                  "statements": [
                    {
                      "WmtTag": "@",
                      "WmtName": "schema model",
                      "statements": []
                    },
                    {
                      "WmtTag": "@",
                      "WmtName": "request",
                      "statements": [
                        {
                          "WmtTag": "{",
                          "WmtName": "",
                          "statements": [
                            {
                              "WmtTag": "@",
                              "WmtName": "emitKey ctx.emitKey || 'node-js'",
                              "statements": []
                            },
                            {
                              "WmtTag": "@",
                              "WmtName": "toJson ctx.toJson || false",
                              "statements": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "WmtTag": "function",
                  "WmtName": "",
                  "statements": [
                    {
                      "WmtTag": "if",
                      "WmtName": "err",
                      "statements": [
                        {
                          "WmtTag": "throw",
                          "WmtName": "new Error(err)",
                          "statements": []
                        }
                      ]
                    },
                    {
                      "WmtTag": "_",
                      "WmtName": "ctx.w(result)",
                      "statements": []
                    },
                    {
                      "WmtTag": "_",
                      "WmtName": "callback(null, ctx)",
                      "statements": []
                    }
                  ],
                  "args": [
                    {
                      "WmtTag": "arg",
                      "WmtName": "err"
                    },
                    {
                      "WmtTag": "arg",
                      "WmtName": "result"
                    }
                  ]
                }
              ]
            }
          ],
          "args": [
            {
              "WmtTag": "arg",
              "WmtName": "model"
            },
            {
              "WmtTag": "arg",
              "WmtName": "ctx"
            },
            {
              "WmtTag": "arg",
              "WmtName": "callback"
            }
          ]
        }
      ]
    }
  ]
}